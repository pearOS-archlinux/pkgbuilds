# Maintainer : Alexandru Balan <alex@pear-software.com>

pkgname=system-settings
_realname=system-settings
pkgdesc="pearOS NiceC0re System Settings application"
pkgver=26.4
pkgrel=1
arch=('any')
depends=('imagemagick' 'net-tools' 'fprintd' 'power-profiles-daemon' 'jq' 'electron' 'piri-base' 'pafari')
url="https://pearos.xyz"
license=('GPLv3')
source=("file://${startdir}/license.txt"
        "file://${startdir}/pearos-systemsettings.desktop"
        "file://${startdir}/launch.sh"
        "file://${startdir}/hide-systemsettings.menu")
sha256sums=('SKIP'
            'SKIP'
            'SKIP'
            'SKIP')
prepare() {
  cp -r ${startdir}/${_realname} ${srcdir}/
}
build() {
  cd ${srcdir}/${_realname}
}

package() {
  cd ${srcdir}/${_realname}

  install -d ${pkgdir}/usr/share/extras
  cp -r ${srcdir}/${_realname} ${pkgdir}/usr/share/extras/
  chmod -R 755 ${pkgdir}/usr/share/extras/${_realname}

  install -d ${pkgdir}/usr/bin
  install -m755 ${srcdir}/launch.sh ${pkgdir}/usr/bin/systemsettings1
  
  install -Dm644 ${srcdir}/pearos-systemsettings.desktop ${pkgdir}/usr/share/applications/pearos-systemsettings.desktop
  
  install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/pearos-system-settings/license.txt
  
  install -Dm644 ${srcdir}/hide-systemsettings.menu ${pkgdir}/etc/xdg/menus/applications-merged/hide-systemsettings.menu
}

